# 16位汇编语言

## 寄存器

8086CPU有14个寄存器，所有寄存器都是16位的可以存放连个字节：

- AX
- BX
- CX
- DX
- SI
- DI
- SP
- BP
- CS
- SS
- DS
- ES
- PSW

### 通用寄存器

8086CPU有4个通用寄存器，用来存放一般性的数据：

- AX
- BX
- CX
- DX

8086CPU的AX、BX、CX、DX这4个通用寄存器都可以分为两个可独立使用的8位寄存器来用：

| 寄存器  | 高位  | 低位  |
|  ----  | ---- | ---   |
| AX  | AH | AL |
| BX  | BH | BL |
| CX  | CH | CL |
| DX  | DH | DL |

### 段寄存器

8086CPU有4个段寄存器：

- CS
- DS
- SS
- ES

#### 代码段寄存器

代码段寄存器：

- CS

#### 数据段地址寄存器

数据段地址寄存器：

- DS

8086CPU不支持将数据直接送入段寄存器，需要先将数据送入一个一般的寄存器，如`BX`，再将`BX`中的内容送入`DS`。

### 指令指针寄存器

- IP

在8086PC机中，任意时刻，设`CS`中的内容为`M`，`IP`中的内容为`N`，8086CPU将从内存`M*16+N`单元开始，读取一条指令并执行。

也可以这样表述：8086机中，任意时刻，CPU将`CS:IP`指向的内容当做指令执行。

`mov`指令不能用于设置`CS`、`IP`寄存器的值，原因很简单，因为8086CPU没有提供这样的功能。

使用`jmp 段地址:偏移地址`指令可以同时修改`CS:IP`寄存器的值：

- `jmp 2AE3:3`，执行后：`CS=2AE3H`， `IP=0003H`，CPU将从`2AE33H`处读取指令。
- `jmp 3:0B16`，执行后：`CS=0003H`， `IP=0B16H`，CPU将从`00B46H`处读取指令。

若想仅修改`IP`寄存器的内容，可用`jmp 某一合法寄存器`的指令完成，如：

- `jmp ax`，指令执行前，`ax=1000H`，`CS=2000H`，`IP=0003H`
指令执行后，`ax=1000H`，`CS=2000H`，`IP=1000H`
