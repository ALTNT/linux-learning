# 计算机组成与体系结构

## 主存储器

主存储器（Main memory）是存放指令和数据，并能由中央处理器（CPU）直接随机存取的随机存储器（RAM）。主要由存储体、控制线路、地址寄存器、数据寄存器和地址译码电路五部分组成。

- [主存储器](https://blog.51cto.com/u_15127663/3697454?abTest=51cto)

## 控制器

程序计数器PC：存储下一条要执行指令的地址。

## 存储系统

### 层次化存储结构

- [Cache和Buffer的区别](https://blog.51cto.com/u_14286115/5194187)

### 主存编址

- 存储单元
  - 存储单元个数=最大地址-最小地址+1

- 编址内容
  - 按字编址：存储体的存储单元是字存储单元，即最小寻址单位是一个字
  - 按字节编址：存储体的存储单元是字节存储单元，即最小寻址单位是一个字节
  - [“一个字等于多少个字节？”是一个不严谨的问法
](https://blog.csdn.net/Fabulous1111/article/details/79525384)

- 总容量
  - 总容量=存储单元个数*编址内容

- 总片数
  - 总片数=总容量/每片的容量
  - [试题来源：2010年下半年系统架构设计师考试试题](https://www.educity.cn/rk/586060.html)
  - [题解：2010年下半年系统架构设计师考试试题](https://www.51bdks.net/view/8p974.html)

    内存按字节编址，利用8K*4bit的存储器芯片构成84000H到8FFFFH的内存，共需（）片。
    A 6
    B 8
    C 12
    D 24

    解析：本题的题型在软考中较为常见，其难度在于计算时需要注意技巧，如果不注意技巧，将浪费大量时间于无谓的计算过程。
    8FFFFH-84000H+1=（8FFFFH+1）-84000H=90000H-84000H=C000H，化为十进制为48K。
    $C000H=12*16^3=2^2*3*2^{12}=3*2^4*2^{10}=48*1024=48K$
    由于内存是按字节编址，所以存储容量为：$48K*8bit，48K*8bit/(8K*4bit)=12$。

## 存储管理

### 磁盘管理

- 读取磁盘数据的时间应该包括以下三个部分：
  - 找磁道的时间。
  - 找块（扇区）的时间，即旋转延迟时间。
  - 传输时间。

- 存取时间=寻道时间+等待时间（平均定位时间+转动延迟）这个公式我认为有问题。
我认为应该是：存取时间=寻道时间+转动延迟+存（或取）磁盘扇区内容的时间？

>1. 试题一
  > [试题来源：2012年上半年系统分析师考试试题](https://www.educity.cn/rk/585904.html)
  > [题解：假设某磁盘的每个磁道划分成11个物理块……处理11个记录的最少时间为（ ）。](https://blog.csdn.net/interestANd/article/details/115539993)
>2. 试题二
  > [假设磁盘臂位于15号柱面上，进程的请求序列如下表所示，如果采用最短移臂调度算法，那么系统的响应序列应为（  ）。](https://www.ruankaoti.com/ruanjianshejishi/103110202031972.html)

## 数据传输控制方式

从上到下效率越来越高：

- 程序控制（查询）方式
- 程序中断方式
- DMA方式
- 通道方式
- I/O处理机

### 参考

- [DMA方式与通道方式](https://www.cnblogs.com/juanzhi/p/12837375.html)
- [I/O通道](https://baike.baidu.com/item/I%2FO%E9%80%9A%E9%81%93/451362)

## 总线

一条总线同一时刻仅允许一个设备发送，但允许多个设备接收。所以总线是半双工模式。

- 半双工与全双工
  - [简述单工、半双工、全双工的区别
](https://blog.csdn.net/chaofanwei/article/details/13274815)
- 串行总线与并行总线
  - [串并行总线的区别和优劣，看完这篇就懂了！](https://new.qq.com/rain/a/20210609A03VSB00)
  - [串行总线和并行总线的区别
](https://mbb.eet-china.com/blog/3890995-413465.html)

### 总线分类

- 数据总线（Data Bus, DB）：在CPU与ARM之间来回传送需要处理或是需要储存的数据。
- 地址总线（Address Bus, AB）：用来指定在RAM（Random Access Memory）之中储存的数据的地址。
- 控制总线（Control Bus, CB）：将微处理器控制单元（Control Unit）的信号，传送到周边设备。

- [试题：下列说法中正确的是（  ）。](https://blog.csdn.net/oopxiajun2011/article/details/108432340)
