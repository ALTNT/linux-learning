# 设备驱动

## 元器件

- [<font color=Red>常用电子产品接口大全（很全，值得收藏）</font>](https://mp.weixin.qq.com/s/QGPxHCYxgLi656D8wq2Dzw)
- [搞懂元器件，就搞懂了电路的一半](https://mp.weixin.qq.com/s/Z15ML8HlzWhbpA2Gy8UqHA)

## 总线

- [终于搞清了：SPI、UART、I2C通信的区别与应用！](https://www.toutiao.com/article/7264843567909126715/)
- [终于搞清了：SPI、UART、I2C通信的区别与应用！](https://mp.weixin.qq.com/s/N36JOLDHGHDU8EHro4uS9w)

### I2C

- [I2C总线驱动框架详解](https://www.cnblogs.com/ancongliang/p/7842648.html)
- [I2C问题的七宗罪](https://www.toutiao.com/article/7270153829277205026/)

### SPI

- [Linux下SPI驱动详解（干货）](https://mp.weixin.qq.com/s?__biz=MzUxMjEyNDgyNw==&mid=2247492491&idx=1&sn=df405ac3e578820bd6daef2da82b14b1&chksm=f96b917fce1c18695a0972e0027a553ff2394765de3d3bd543361f09bcb146901f5c1aacf937&scene=21#wechat_redirect)
- [SPI协议](https://blog.csdn.net/lzy13785490347/article/details/91373912)

### usb

- [USBView](http://www.kroah.com/linux-usb/)
- [https://github.com/gregkh/usbview/](https://github.com/gregkh/usbview/)

### gpio

- [https://www.kernel.org/doc/html/latest/firmware-guide/acpi/gpio-properties.html](https://www.kernel.org/doc/html/latest/firmware-guide/acpi/gpio-properties.html)
- [硬件工程师必看：GPIO用法大汇总](https://zhuanlan.zhihu.com/p/80096604)
- [详细介绍GPIO、I2C、SPI通讯原理以及物理层原理](https://blog.csdn.net/bjbz_cxy/article/details/119925257)

## acpi

- [【UEFI实战】Linux下如何解析ACPI表](https://blog.csdn.net/jiangwei0512/article/details/83317890)
- [ACPI Device Tree - Representation of ACPI Namespace](https://www.kernel.org/doc/html/latest/firmware-guide/acpi/namespace.html)

```bash
sudo apt install acpica-tools iasl
sudo acpidump -n DSDT -b
sudo iasl -d dsdt.dat
vim dsdt.dsl
```

### ACPI电源管理

在计算机的ACPI（高级配置与电源接口）电源管理标准中，有多个电源状态，通常被标识为S0、S1、S2、S3、S4、S5等。这些状态用于管理计算机的电源使用和休眠状态。以下是这些状态的简要描述：

1. **S0状态（运行状态）**：在S0状态下，计算机处于完全运行状态，所有硬件设备都处于活动状态，CPU和RAM正常运行。计算机可以执行任务并响应用户输入。

2. **S1状态（休眠状态，CPU停电）**：在S1状态下，计算机处于较低功耗状态。CPU会停电，但RAM仍然保持活动状态。计算机可以迅速唤醒。

3. **S2状态（休眠状态，CPU和RAM停电）**：在S2状态下，CPU和RAM都停电，但其他硬件设备可能保持活动状态。计算机的唤醒时间相对较长。

4. **S3状态（睡眠状态，常称为"Suspend to RAM"）**：在S3状态下，计算机的大部分硬件设备都停电，但RAM中的数据被保留。计算机可以迅速唤醒，用户可以继续使用。

5. **S4状态（关机状态，常称为"Hibernate"）**：在S4状态下，计算机的所有硬件都关闭，RAM中的数据被保存到硬盘上的休眠文件中。这是一种非常低功耗状态。计算机可以从休眠文件中还原。

6. **S5状态（关机状态，完全关闭）**：在S5状态下，计算机完全关闭，没有任何硬件活动。通常需要按下电源按钮才能启动。

7. **ACPI电源按钮状态（电源按钮操作）**：电源按钮状态包括"按下"和"释放"两种状态。电源按钮通常用于启动计算机、关闭计算机或唤醒计算机。

请注意，这些状态的确切实现和功能可能因计算机硬件、操作系统和BIOS的不同而有所不同。不同计算机和操作系统可能会对这些状态进行扩展或自定义，以满足特定需求。

## 设备树

- [手把手教linux驱动11-linux设备驱动统一模型](https://mp.weixin.qq.com/s/pmJ45JsY_-R8PK2ip7uCng)
- [重新理解一波设备驱动 | Linux 驱动](https://mp.weixin.qq.com/s/v_HWfKtqAdNkhvymZ_UrMA)
- [整理了一份Linux设备树基础知识，建议收藏！](https://mp.weixin.qq.com/s/BI23d71SJkYPHnzQbFyvpQ)
- [万字长文教你设备树语法 | 设备树实例解析](https://mp.weixin.qq.com/s/6xjgqwDSuNc7TELeI_2GWA)
- [linux设备模型之kset/kobj/ktype分析](https://mp.weixin.qq.com/s/WET4m1Nd2vpvojKjgmRkbw)
- [Linux设备树的传递以及kernel中对设备树的解析](https://mp.weixin.qq.com/s/Cy90ADUkWobu8YQH3dx4Nw)
- [Linux设备模型之class](https://mp.weixin.qq.com/s/6SrEu4RBxb1Av5qu_eNo5Q)
- [Linux 设备树的加载与匹配](https://blog.csdn.net/qq_40537232/article/details/115507062)
- [Linux驱动——设备树](https://blog.csdn.net/cha1290878789/article/details/121559526)

## udev

- [<font color=Red>udev高效、动态地管理 Linux 设备文件</font>](https://cloud.tencent.com/developer/article/2128481)
- [udev学习笔记汇总](https://www.cnblogs.com/hellokitty2/p/9521340.html)

通过`udev monitor`捕获uevent包含的信息：

```bash
udevadm monitor --kernel --property --udev
```

也可采用简写命令：

```bash
udevadm monitor -kpu
```

也可直接采用`udev mointor -p`命令查看信息，推荐使用上方两个命令:

```bash
udev mointor -p
```

借助udev中的`udevadm info`工具查找规则文件能利用的内核信息和sysfs属性信息：

```bash
udevadm info -a -p /sys/devices/virtual/misc/globalfifo
```

如果/dev/下面的节点已被创建，但是不知道它对应的/sys具体路径，可以使用`udevadm info -a -p $(udevadm info -q path -n /dev/<节点名>)`命令反向分析：

```bash
udevadm info -a -p $(udevadm info -q path -n /dev/globalfifo)
```

## 其他

- [Camera | 2.MIPI、CSI基础](https://mp.weixin.qq.com/s/5qYO5RjCDUcxo4tR3_f_ow)
